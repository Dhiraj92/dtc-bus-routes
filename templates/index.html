{% load static %}
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <meta name=viewport content="width=device-width, initial-scale=1">

    <link rel="canonical" href="{{ request.scheme}}://{{ request.META.HTTP_HOST }}{{ request.path }}" />
    <meta name="google-site-verification" content="E1z0_7E9gqi6Z3uV0k_41EiVwKOZxb7zXlORbrZw3ms" />
    <meta name="msvalidate.01" content="66641B4DCE41F4F43AC11DAE66F5693D" />

    <meta property="og:type" content="website" />
    <meta property="og:locale" content="en_US" />
    <meta property="fb:admins" content="100000669078751" />
    <meta property="og:url" content="{{ request.scheme }}://{{ request.META.HTTP_HOST }}{{ request.path }}" />
    <meta property="og:image" content="{{ request.scheme}}://{{ request.META.HTTP_HOST }}{% static 'images/logo_meta.png' %}" />
    <meta property="og:site_name" content="DTC Bus Routes" />
    <meta property="og:see_also" content="{{ request.scheme}}://{{ request.META.HTTP_HOST }}">

    <meta itemprop="image" content="{{ request.scheme}}://{{ request.META.HTTP_HOST }}{% static 'images/logo_meta.png' %}">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="{{ request.scheme}}://{{ request.META.HTTP_HOST }}{{ request.path }}">
    <meta name="twitter:image" content="{{ request.scheme}}://{{ request.META.HTTP_HOST }}{% static 'images/logo_meta.png' %}">

    <title>{% block title %}DTC Bus Routes{% endblock %}</title>

    {% block meta_tags %}
    <meta name="description" content="DTC Bus Routes makes it easier for you to commute in Delhi. It provides you the updated dtc bus routes and timings.">
    <meta name="keywords" content="dtc, bus, delhi bus, bus routes, delhi bus route,  delhi bus service, dtc bus, dtc bus service, dtc routes, delhi buses, delhi bus list, delhi bus timings, delhi bus details, delhi bus route details, delhi transport corporation, delhi bus banner, bus in delhi, bus for delhi, bus for south delhi, bus for north delhi, bus for east delhi, buses in delhi,  delhi bus details, delhi bus route finder, delhi bus route no, delhi bus details, delhi bus route chart, delhi bus route search">

    <meta itemprop="name" content="DTC Bus Routes">
    <meta itemprop="description" content="DTC Bus Routes makes it easier for you to commute in Delhi. It provides you the updated dtc bus routes and timings.">

    <meta property="og:title" content="DTC Bus Routes" />
    <meta property="og:description" content="DTC Bus Routes makes it easier for you to commute in Delhi. It provides you the updated dtc bus routes and timings." />

    <meta name="twitter:title" content="DTC Bus Routes">
    <meta name="twitter:description" content="DTC Bus Routes makes it easier for you to commute in Delhi. It provides you the updated dtc bus routes and timings.">
    {% endblock %}

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65039991-1', 'auto');
    ga('send', 'pageview');
    </script>

    {% block css_includes %}
    <link href="https://cdn.jsdelivr.net/semantic-ui/2.2.2/semantic.min.css" rel="stylesheet">
    {% endblock %}
    </head>

    {% block css %}
    <style>
    .ui.tabular.menu > .item {
        cursor: pointer;
    }

	.ui.menu.navbar {
		width: 100% !important;
		margin:0 0 0 0 !important;
		border-radius: 0;
		font-size: 14px;
		border: none;
	}

	.ui.menu.navbar .item:before {
		background: none !important;
	}

    .ui.search > .results {
        width:100%;
    }

    .cc_container .cc_container--open {
        font-size: 14px !important;
    }

	.navbar img {
		width:2em;
		vertical-align:middle;
	}

	.brand {
		font-weight: bold;
	}

	.brand-div {
		display: table !important;
		text-align: center;
	}

	.navbar-dropdown-icon {
		display: table-cell !important;
	}

	.shareitem {
		position: fixed;
		height: auto;
		padding-right: 10px;
		display: inline-block;
		max-width:inherit;
	}

	.no-margin-bottom {
		margin-bottom: 0 !important;
	}

	@media only screen and (min-width: 767px) {
		.navbar-dropdown-icon {
			display: none !important;
		}

		.brand-div {
			margin-left:1%;
		}
	}

	/* mobile view */
	@media only screen and (max-width: 767px) {
		.hidden {
			display: none !important;
			background: none !important;
		}

		.ui.menu.navbar .item:before {
			background: rgba(34,36,38,.1) !important;
		}
	}

    </style>
    {% endblock %}

    <body>
        <script id="_webengage_script_tag" type="text/javascript">
        var webengage; !function(e,t,n){function o(e,t){e[t[t.length-1]]=function(){r.__queue.push([t.join("."),arguments])}}var i,s,r=e[n],g=" ",l="init options track screen onReady".split(g),a="feedback survey notification".split(g),c="options render clear abort".split(g),p="Open Close Submit Complete View Click".split(g),u="identify login logout setAttribute".split(g);if(!r||!r.__v){for(e[n]=r={__queue:[],__v:"5.0",user:{}},i=0;i<l.length;i++)o(r,[l[i]]);for(i=0;i<a.length;i++){for(r[a[i]]={},s=0;s<c.length;s++)o(r[a[i]],[a[i],c[s]]);for(s=0;s<p.length;s++)o(r[a[i]],[a[i],"on"+p[s]])}for(i=0;i<u.length;i++)o(r.user,["user",u[i]]);setTimeout(function(){var f=t.createElement("script"),d=t.getElementById("_webengage_script_tag");f.type="text/javascript",f.async=!0,f.src=("https:"==t.location.protocol?"https://ssl.widgets.webengage.com":"http://cdn.widgets.webengage.com")+"/js/widget/webengage-min-v-5.0.js",d.parentNode.insertBefore(f,d)})}}(window,document,"webengage");

        webengage.init("76aa07a");
        </script>

		<div class="container">
			<div class="ui stackable menu navbar">
				<div class="item brand-div">
					<a href="/">
						<span class="brand">DTC</span><img src="{{ STATIC_URL }}images/logo_meta.png"><span class="brand">Routes</span>
					</a>
					<i class="content icon navbar-dropdown-icon"></i>
				</div>
				<a class="item stacked hidden"><i class="map outline icon"></i> Maps</a>
				<a class="item stacked hidden"><i class="rupee icon"></i> Fares</a>
				<a class="item stacked hidden"><i class="feed icon"></i> Status Updates</a>


				<div class="right menu stacked hidden item">
					<div id="fb-root"></div>
					<div
						class="fb-like shareitem"
						data-href="https://www.facebook.com/dtcbusroutes"
						data-send="false"
						data-layout="button_count"
						data-width="100"
						data-show-faces="false"></div>
					<div id="twittershare shareitem">
						<a
						href="https://twitter.com/intent/tweet"
						id="twitter"
						class="twitter-share-button"
						data-url="https://www.dtcbusroutes.in"
						data-text="DTC Bus Routes"
						data-via="dhirajthakur92"
						data-hashtags="dtc, busroute finder"
						data-dnt="true">Tweet</a>
					</div>
				</div>
			</div>
            {% block body %}

            {% endblock %}
		</div>

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/semantic-ui/2.2.2/semantic.min.js"></script>
		<script async defer src="https://maps.googleapis.com/maps/api/js"></script>

        {% block js %}
        <script type="text/javascript">
        var cached_stages = [];
        var cached_routes = [];
		$(document).ready(function() {
			$('.navbar-dropdown-icon').on('click',function() {
				$('.navbar > .stacked').toggleClass('hidden');
			});

			$('.ui.dropdown').dropdown();

			function setMyLocation(map,position) {
				var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
				var marker = new google.maps.Marker({
					map: map,
					position:latlng,
					icon: {
						url: "https://www.mapbox.com/bites/00281/img/icon_me.png",
						scaledSize: new google.maps.Size(14, 14)
					},
					zoom: 15,
				});
				marker.setPosition(latlng);
				map.setCenter(latlng);
			}

			function addYourLocationButton(map, marker) {
				var controlDiv = document.createElement('div');

				var firstChild = document.createElement('button');
				firstChild.style.backgroundColor = '#fff';
				firstChild.style.border = 'none';
				firstChild.style.outline = 'none';
				firstChild.style.width = '28px';
				firstChild.style.height = '28px';
				firstChild.style.borderRadius = '2px';
				firstChild.style.boxShadow = '0 1px 4px rgba(0,0,0,0.3)';
				firstChild.style.cursor = 'pointer';
				firstChild.style.marginRight = '10px';
				firstChild.style.padding = '0px';
				firstChild.title = 'Your Location';
				controlDiv.appendChild(firstChild);

				var secondChild = document.createElement('div');
				secondChild.style.margin = '5px';
				secondChild.style.width = '18px';
				secondChild.style.height = '18px';
				secondChild.style.backgroundImage = 'url(https://maps.gstatic.com/tactile/mylocation/mylocation-sprite-1x.png)';
				secondChild.style.backgroundSize = '180px 18px';
				secondChild.style.backgroundPosition = '0px 0px';
				secondChild.style.backgroundRepeat = 'no-repeat';
				secondChild.id = 'you_location_img';
				firstChild.appendChild(secondChild);

				google.maps.event.addListener(map, 'dragend', function() {
					$('#you_location_img').css('background-position', '0px 0px');
				});

				firstChild.addEventListener('click', function() {
					var imgX = '0';
					var animationInterval = setInterval(function(){
						if(imgX == '-18') imgX = '0';
						else imgX = '-18';
						$('#you_location_img').css('background-position', imgX+'px 0px');
					}, 500);

					if(navigator.geolocation) {
						navigator.geolocation.getCurrentPosition(function(position) {
							setMyLocation(map,position);
							clearInterval(animationInterval);
							$('#you_location_img').css('background-position', '-144px 0px');
						});
					}
					else{
						clearInterval(animationInterval);
						$('#you_location_img').css('background-position', '0px 0px');
					}
				});

				controlDiv.index = 1;
				map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(controlDiv);
			}

			var mapDiv = document.getElementById('map');
			var map = new google.maps.Map(mapDiv, {
				center: {lat: 28.6129, lng: 77.2295},
				zoom: 14,
				scaleControl: true,
				streetViewControl: true,
				streetViewControlOptions: {
					position: google.maps.ControlPosition.TOP_RIGHT
				},
				mapTypeControl: true,
				mapTypeControlOptions: {
					style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
					position: google.maps.ControlPosition.TOP_RIGHT
				},
				fullscreenControl: true
			});

            var transitLayer = new google.maps.TransitLayer();
            transitLayer.setMap(map);

            // var trafficLayer = new google.maps.TrafficLayer();
            // trafficLayer.setMap(map);

			addYourLocationButton(map);

			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(function(position) {
					setMyLocation(map,position);
				});
			} else {
                console.log("Geolocation is not supported! Get a new browser!! >:(")
            }
		});
        </script>
        {% endblock %}

        <script type="text/javascript">
        !function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0],
                p = /^http:/.test(d.location) ? 'http' : 'https';
            if (!d.getElementById(id)) {
                js = d.createElement(s);
                js.id = id;
                js.src = p + '://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js, fjs);
            }
        }(document, 'script', 'twitter-wjs');

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=508603022535540";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));


        // Begin Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent
        window.cookieconsent_options = {
          "message":"To give you the best possible experience, this site uses cookies. Continuing to use this site means you agree to our use of cookies. To know more about cookies",
          "dismiss":"Got it!",
          "learnMore":"click here.",
          "link":"http://www.whatarecookies.com/",
          "theme":"light-floating"};
        </script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js"></script>
        <!-- End Cookie Consent plugin -->
    </body>
</html>
